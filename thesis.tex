% this file is encoded in utf-8
% v3.0 (Jun. 11, 2019)

\documentclass[12pt, a4paper]{ntuthesis}

% 除非校方修改了論文格式 (margins, header, footer, 浮水印, 中文數字之章別)
% 或者需要增加所用的 LaTeX 套件，
% 或者要改預設中文字型、編碼
% 否則毋須修改本檔內容

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
\usepackage{mathtools} % 各式 AMS 數學功能
\usepackage{amssymb} % 各式 AMS 數學符號
\usepackage{mathrsfs} %草寫體數學符號，在數學模式裡用 \mathscr{E} 得草寫 E
\usepackage{bm}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{tabularx}
\usepackage{url}
\usepackage[usenames,dvipsnames]{color}
%\usepackage[square, comma, numbers, sort&compress]{natbib}
\usepackage[
    colorlinks, 
    linkcolor = black, 
    citecolor = red,    % black
    urlcolor  = blue,   % black
    unicode
]{hyperref}

\usepackage{siunitx}
\usepackage{tikz}
\usetikzlibrary{arrows.meta,positioning,calc,chains,scopes}
\usetikzlibrary{shapes.geometric,angles}
\usetikzlibrary{backgrounds,fit}

\usepackage{multirow,multicol,rotating}
% 插圖套件 graphicx
\usepackage{graphicx}
% font, margin, linestretch 是設在 ntuthesis.sty 裡
\usepackage{ntuthesis}


%%%%%%%%% listings / algorithm %%%%%%%%%%
\usepackage{listings} % 程式列表套件
% hyperref跟algorithm衝突，hyperref必須放在algorithm前面
\usepackage{algorithm}
\usepackage{algorithmic}

%
% listing setting
\lstset{breaklines=true,% 過長的程式行可斷行
extendedchars=false,% 中文處理不需要 extendedchars
texcl=true,% 中文註解需要有 TeX 處理過的 comment line, 所以設成 true
comment=[l]\%\%,% 以雙「百分號」做為程式中文註解的起頭標記，配合 MATLAB
basicstyle=\small,% 小號字體, 約 10 pt 大小
commentstyle=\upshape,% 預設是斜體字，會影響註解裏的英文，改用正體
%language=Octave % 會將一些 octave 指令以粗體顯示
}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

%%%%%%%%% fancyhdr %%%%%%%%%%
% 增強功能型頁楣 / 頁腳套件
\usepackage{fancyhdr}  % 借用此套件來擺放浮水印 
% (佔用了 central header)
% 不需要浮水印的使用者仍可利用此套件，產生所需的 header, footer
%
% 啟動 fancy header/footer 套件
\pagestyle{fancy}
\fancyhead{}  % reset left, central, right header to empty
\fancyfoot[C]{\thepage} %中間 footer 擺放頁碼
\renewcommand{\headrulewidth}{0pt} % header 的直線; 0pt 則無線

% 如果不需要任何浮水印，則請把下列介於 >>> 與 <<< 之間
% 的文字行關掉 (行首加上百分號)
%% 浮水印 >>> 
% 請用 Adobe Acrobat 加入
% 也會需要加入 doi 的浮水印
%\input{watermark}
%% <<< 浮水印

% 如需額外的頁楣 (header) 或 footer，請在 headerfooter.tex 裡依例修改
% 它的預設內容是都關掉，可依需要打開
\input{headerfooter}
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%

% 常見的 notation 指令
% 請修改 notations.tex 加入自己需要的 notations
% \input{notations}

% Title Page
% 請修改 title_settings.tex 設定論文題目/指導教授等變數
\input{title_settings}

% 載入中文名詞的定義：例如，Figure -->「圖」, Chapter -->「第 x 章」
\input{ntu_definitions}

% 如果不需要以中文數字一、二、三呈現章別，例如「第一章」
% 則請把下列介於 >>> 與 <<< 之間
% 的文字行關掉 (行首加上百分號), 會以「第 1 章」呈現
%% 中文數字章別 >>>
\input{ntu_chnum}
%% <<< 中文數字章別

%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%  end of preamble
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%
\begin{document}
\CJKindent  %%% ZZZ %%%  段首內縮兩格

%%% 以下載入前頁、本文、後頁

% \input{thesis_frontpages}  % omitted as...: 
% <<<
% \NTUtitlepage  % 產生論文封面

% \newpage
\setcounter{page}{1}
\pagenumbering{roman}

% \NTUoralpage  % 產生口試委員會審定書

\mydoublespacing
%% \begin{acknowledgement} %誌謝
%%     兩年來的碩士生活，隨著這份論文的誕生而告了一個段落。回思過去兩年來的生活，有做出成果的喜悅、也有處處碰壁時的苦悶、也有跟同學共同奮鬥的記憶，自己在這兩年中實在成長了許多，而這些都要感謝實驗室的大家長：李琳山教授。教授在實驗室營造了自由研究的氛圍，讓實驗室的同學都能按自己喜好自由發展研究方向，並從旁關心協助同學的研究。我在這樣的氛圍下也受益許多，學習到了許多做研究與做人處事的方法。%% 

%%     這些研究能夠順利完成要由衷地感謝我的家人，他們無論何時都支持我的決定，並且從旁給我協助，在我最忙碌而都很晚回家的那段時間，他們也是很包容我，並給予我支持。%% 

%%     與實驗室的同學相處的這段時光將是碩士生活中最難忘的一段日子，我們無論是修課或是研究上都是彼此的好戰友，我從你們身上都學到很多；下一屆的你們將是實驗室下一代的主力，祝你們未來研究順利！%% 

%%     最後要感謝我的朋友、同學、以及伙伴們，不論是平常一起吃飯聊天、有正事時的一起奮鬥、或一起出去玩，你們都是我平常生活上最大的支持！%% 

%% \end{acknowledgement}%% 

%% \begin{zhAbstract} % 中文摘要
%%     這是中文摘要
%% \end{zhAbstract}%% 

%% \begin{enAbstract} % 英文摘要
%%     This is an English abstract.
%% \end{enAbstract}

%%%%%% 先藏起來
%%%%%%%% {
%%%%%%%% %\zhKaiFont
%%%%%%%% \mysinglespacing\selectfont
%%%%%%%% \tableofcontents %目錄
%%%%%%%% 
%%%%%%%% % \listoffigures  %圖目錄
%%%%%%%% 
%%%%%%%% % \listoftables  %表目錄
%%%%%%%% \par
%%%%%%%% }
%%%%%% <<<

\newpage
\setcounter{page}{1}
\pagenumbering{arabic}

% >>>
\input{chapters/all}
% \input{thesis_backpages}

% <<<
\newpage
\phantomsection % for hyperref to register this
\addcontentsline{toc}{chapter}{\nameRef}
\renewcommand{\bibname}{\protect\makebox[5cm][s]{\nameRef}}
%  \makebox{} is fragile; need protect
\bibliographystyle{IEEEtran}  % 使用 IEEE Trans 期刊格式
\bibliography{thesis}

% >>>

\end{document}
